/*
 * TCPCommunication.h
 *
 *  Created on: 30 wrz 2015
 *      Author: patlas
 */

#ifndef TCP_TCPCOMMUNICATION_H_
#define TCP_TCPCOMMUNICATION_H_

#include <sys/socket.h>
#include <netinet/in.h>
#include <netinet/ip.h>

#include <string.h>
#include <stdio.h>
#include <stdint.h>
#include <stdlib.h>
#include <errno.h>
#include <unistd.h>
#include <fcntl.h>
#include <signal.h>


class TCPCommunication {

private:
	int socket_desc=0;
	struct sockaddr_in addr_struct;
	int socket_cli=0;
	struct sockaddr_in addr_cli;
	socklen_t addrlen=0;
	struct timeval tv;
	int sockoptval = 1;


	char mesg[1000];




public:
	TCPCommunication(in_addr_t, uint16_t);
	virtual ~TCPCommunication();

	void setBlockingSocketOption(bool);
	bool listenSocket();
	bool acceptConnection();

private:
	bool createSocket();
	bool bindToSocket();



};

#endif /* TCP_TCPCOMMUNICATION_H_ */
